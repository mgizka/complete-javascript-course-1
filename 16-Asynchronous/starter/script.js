'use strict'


async function whereAmI (lat, lng){
    fetch(`https://geocode.xyz/${lat},${lng}?geoit=json`)
    .then( (r) => { 

        if(!r.ok)
            throw new Error(`Cannot find data at this location ${r.status}`)

        return r.json()
    } )
    .then( ({city,country}) => { 

        if(!city)
            throw new Error(`Cannot find data at this location`)

        console.log(city, country) 
    })
    .catch( (e)=>{
        console.error(e);
    } )
}
const res = whereAmI(52.508,32.381);


function createImage(url){
    return new Promise( function( resolve, reject ) {
        console.log('fetching image '+ url)
        let img = new Image()

        img.addEventListener('load', resolve(img) )
        img.addEventListener('error', reject(img))

        img.src = url;
    })
}


const imgPath = 'data:image/jpeg;base64,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'

createImage(imgPath).then(
     (result)=>{
        document.querySelector('.images').appendChild(result)
    }
).catch( 
    e => console.log('nok')
)

